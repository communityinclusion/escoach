id: escoach_dashboard_terms
label: Import escoash dashboard terms - what/who/where.
migration_group: escoach_dashboard
source:
  plugin: csv
  path: modules/custom/es_migrate/data/What_Who_Where.csv
  header_row_count: 1
  ids:
    - response_id
  column_names:
    0:
      question_id: question_id
    1:
      response_id: response_id
    2:
      response_text: response_text
    3:
      parent_response_id: parent_response_id
    4:
      vocabulary: vocabulary
    5:
      alias: alias
    6:
      notes: notes
process:
  name: response_text
  vid:
    plugin: static_map
    source: vocabulary
    map:
      Who: who
      What: what
      Where: where
  parent:
    -
      plugin: migration_lookup
      migration: escoach_dashboard_terms
      source: parent_response_id
    -
      plugin: default_value
      default_value: 0
  field_dashboard_question_id:
    plugin: explode
    source: question_id
    delimiter: ,
  field_dashboard_response_id:
    plugin: explode
    source: response_id
    delimiter: ,
  field_alias: alias
destination:
  plugin: entity:taxonomy_term
